`자바스크립트는 자바스크립트 엔진에 의해 실행된다.`

자바스크립트 엔진은 **메모리 힙(Memory Heap)** 과 **콜 스택(Call Stack)** 으로 구성되어 있다.

---

##### 1. 메모리 힙(Memory Heap)

메모리 할당이 일어나는 곳으로, 프로그램에서 선언한 변수, 함수, 객체 모든 메모리 할당이 발생하는 곳이다.

---

##### 2. 콜 스택(Call Stack)

코드가 실행될 때 함수의 호출을 스택 형식으로 저장하는 자료구조이다.

현재 어떤 함수가 동작하고 있는지, 그 함수 내에서 어떤 함수가 동작하고 다음에는 또 어떤 함수가 호출되며 제어되는지 등을 기록한다.

(= 코드 실행해주는 곳)

---

`자바스크립트 엔진에는 코드를 실행시키는 스택이 한 개 밖에 없다. 즉 자바스크립트는 한번에 코드 한 줄밖에 실행시키지 못한다(= 자바스크립트는 싱글쓰레드)`

Ajax나 이벤트 리스너, setTimeout 등과 같은 코드는 처리가 오래걸린다.

위와 같은 코드들을 전부 기다려가며 프로그램을 동작한다면 속도가 느려지기 때문에 저런 코드들은 대기실( **Web APIs** )로 잠시 보내둔다.

이후 **스택이 비어져있을 때만** 대기실에서 하나씩 스택으로 올려 보낸다( **Event Loop** ).

---

위와 같은 자바스크립트의 동작 원리를 생각하면서 코드를 짠다면

##### 1. 콜 스택을 바쁘게 하지말자

콜 스택이 바빠진다면 이벤트 관련코드나 ajax 처리 등이 전부 작동하지 않게 되며, 사이트의 속도가 굉장히 느려진다.

무한루프를 돌리게 된다면 콜 스택의 용량을 초과하게 되면서 스택 오버플로우 에러가 발생하게 된다.

##### 2. Queue(Web APIs) 도 바쁘게 하지 말자

스택과 마찬가지로 큐가 바빠진다면 사이트의 성능이 느려진다.

버튼 클릭 시 큐가 100개, 1000개씩 생기는 이벤트 리스너를 달아 놓는다면 스택에 올려보내는 것도 힘들고 처리하는 과정에도 시간이 또 걸리기 때문에 처리되는 시간이 오래걸린다.

(이벤트 리스너를 많이 달지 말자)
